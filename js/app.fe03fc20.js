(function(){var e={7425:function(e,t,n){"use strict";var r=n(9963),i=n(6252);function o(e,t,n,r,o,a){var l=(0,i.up)("ProjectView");return(0,i.wg)(),(0,i.j4)(l)}var a=n(914),l=(n(8730),function(e){return(0,i.dD)("data-v-07222796"),e=e(),(0,i.Cn)(),e}),s=l((function(){return(0,i._)("h3",null,"Forensics Project",-1)})),u=l((function(){return(0,i._)("canvas",null,null,-1)})),c=l((function(){return(0,i._)("textarea",{cols:"30",rows:"10",readonly:""},"\nUse WASD to move around and move the mouse to control where you're looking.\nA debug menu can be toggle via the B key to view general information.\nNote: Some things may appear white due to missing textures.\n    ",-1)})),h=[s,u,c];function d(e,t,n,r,o,a){return(0,i.wg)(),(0,i.iD)("div",null,h)}var f=n(655),b=n(5414),p=n.n(b),m=function(){function e(e){var t=this;Object.defineProperty(this,"canvas",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scene",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"physicsPlugin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(){(0,f.mG)(t,void 0,void 0,(function(){var e,t=this;return(0,f.Jh)(this,(function(n){switch(n.label){case 0:return[4,p()()];case 1:return e=n.sent(),this.physicsPlugin=new a.bei(!0,e),this.engine=new a.D4V(this.canvas,!0),this.scene=this.CreateScene(),this.afterSceneCreate&&this.afterSceneCreate(),this.engine.runRenderLoop((function(){t.scene.cameras.length&&t.scene.render()})),this.scene.beforeRender=function(){t.beforeRender&&t.beforeRender()},[2]}}))}))}()}return e}(),v=n(2873),y=function(){function e(e){Object.defineProperty(this,"sceneClass",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"debugText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"infoText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"crosshair",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"infoMap",{enumerable:!0,configurable:!0,writable:!0,value:{chair:"Chair\nIt's literally just a chair",table:"Table\nNormally you'd put stuff on top of this thing",monitor:"Monitor\nThe new high-tech monitor available for only $1,000,000,000",keyboard:"Keyboard\nYour average keyboard",mouse:"Mouse\nNo, this is not the animal",mouse_pad:"Mouse Pad\nKeeps your mouse's feet nice and clean",textbook:"Textbook\nFor all your studying needs",books:"Books\nSomeone does a bit of reading",pencil_holder:"Pencil Holder\nYou don't want those writing materials all over your desk, do you?",desk:"Desk\nIt's just a desk",shelf:"Shelf\nA mysterious structure used to hold stuff",door:"Door\nMake sure not to slam into this one, it hurts, don't ask why I know",door_knob:"Door Knob\nHow else are you gonna open the door?",bed:"Bed\nSuspected location of victim's death",pillow:"Pillow\nMessy placement of pillows indicates that the suspect likely dragged the victim's body out of bed",blood_puddle:"Blood Puddle\nLikely left behind from the body lying there for a period of time",muddy_footprint:"Muddy Footprint\nIndicates that the suspect must have entered through the window",bloody_handprint:"Bloody Handprint\nThe suspect may have touched the inside of the window on their way out",knife:"Knife\nLikely the weapon used to commit the murder",blanket:"Blanket\nThe blanket used to wrap the dead body",right_foot:"Dead Body\nThe victim's body",left_foot:"Dead Body\nThe victim's body",inner_window_primitive1:"Window\nSuspected mode of entry and exit",outer_window_primitive1:"Window\nSuspected mode of entry and exit"}}),Object.defineProperty(this,"prevFPS",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevTime",{enumerable:!0,configurable:!0,writable:!0,value:0});var t=v["in"].CreateFullscreenUI("UI"),n=new v.Ee("crosshair","./textures/crosshair.png");n.name="crosshair",n.width="16px",n.height="16px",n.verticalAlignment=v.oT.VERTICAL_ALIGNMENT_CENTER,n.horizontalAlignment=v.oT.HORIZONTAL_ALIGNMENT_CENTER,t.addControl(n),this.crosshair=n;var r=new v.al;r.text="",r.color="white",r.fontSize=12,r.name="debugText",r.textWrapping=!0,r.verticalAlignment=v.oT.VERTICAL_ALIGNMENT_TOP,r.horizontalAlignment=v.oT.HORIZONTAL_ALIGNMENT_LEFT,r.textVerticalAlignment=v.oT.VERTICAL_ALIGNMENT_TOP,r.textHorizontalAlignment=v.oT.HORIZONTAL_ALIGNMENT_LEFT,r.width="25%",r.left=10,r.top=10,t.addControl(r),this.debugText=r;var i=new v.al;i.text="",i.color="blue",i.fontSize=24,i.name="infoText",i.textWrapping=!0,i.verticalAlignment=v.oT.VERTICAL_ALIGNMENT_BOTTOM,i.textVerticalAlignment=v.oT.VERTICAL_ALIGNMENT_BOTTOM,i.width="75%",i.top=-20,t.addControl(i),this.infoText=i}return Object.defineProperty(e.prototype,"getInfo",{enumerable:!1,configurable:!0,writable:!0,value:function(e){void 0===e&&(e="");var t=this.infoMap[e];t?(this.infoText.isVisible||(this.infoText.isVisible=!0),this.infoText.text=t):this.infoText.isVisible=!1}}),Object.defineProperty(e.prototype,"getDebug",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){var i,o,l,s,u,c;e.DEBUG_ENABLED?this.debugText.isVisible||(this.debugText.isVisible=!0):this.debugText.isVisible=!1;var h=this.sceneClass.scene,d=h.getEngine(),f=(new Date).getTime(),b=f-this.prevTime>500?Math.floor(1/(d.getDeltaTime()/1e3)):this.prevFPS;f-this.prevTime>500&&(this.prevTime=f),this.prevFPS=b;var p="{\n  Name: Null\n  Parent Name: Null\n  Mass: Null\n}";r&&(p="{\n  Name: ".concat(r.name,"\n  Parent: ").concat(null!==(o=null===(i=r.parent)||void 0===i?void 0:i.name)&&void 0!==o?o:"Null","\n  Mass: ").concat(null!==(s=null===(l=r.physicsImpostor)||void 0===l?void 0:l.mass)&&void 0!==s?s:"Null","\n}")),this.debugText.text="Position: ".concat(t.position.toArray([]).asArray().map((function(e){return e.toFixed(2)})),"\nRotation: ").concat((180*n.rotation.x/Math.PI).toFixed(2),", ").concat((180*n.rotation.y/Math.PI).toFixed(2),"\nCharacter Rotation: ").concat(t.rotation.toArray([]).asArray().map((function(e){return e.toFixed(2)})),"\nVelocity: ").concat((null!==(c=null===(u=t.physicsImpostor)||void 0===u?void 0:u.getLinearVelocity())&&void 0!==c?c:new a.Pa4).toArray([]).asArray().map((function(e){return e.toFixed(2)})),"\nLooking At: ").concat(p,"\nFPS: ").concat(b)}}),Object.defineProperty(e,"DEBUG_ENABLED",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}(),g=function(){function e(e){Object.defineProperty(this,"sceneClass",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"sprint",{enumerable:!0,configurable:!0,writable:!0,value:7.5}),Object.defineProperty(this,"walk",{enumerable:!0,configurable:!0,writable:!0,value:3.5}),Object.defineProperty(this,"jump",{enumerable:!0,configurable:!0,writable:!0,value:15}),Object.defineProperty(this,"camera",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"character",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"flashlight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hud",{enumerable:!0,configurable:!0,writable:!0,value:new y(this.sceneClass)}),Object.defineProperty(this,"moveInput",{enumerable:!0,configurable:!0,writable:!0,value:{forward:!1,back:!1,left:!1,right:!1,sprinting:!1}}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:new a.Pa4}),Object.defineProperty(this,"grounded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"teleportCooldown",{enumerable:!0,configurable:!0,writable:!0,value:30}),this.character=this.CreateCharacter(),this.camera=this.CreateCamera(),this.flashlight=this.CreateFlashlight(),this.ListenToMovement()}return Object.defineProperty(e.prototype,"ListenToMovement",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t={};this.sceneClass.scene.onKeyboardObservable.add((function(n){var r=n.type===a.OG2.KEYDOWN,i=n.type===a.OG2.KEYUP,o=!!r||!i&&null,l=n.event.code;if(o!==t[l]){r?t[l]=!0:i&&(t[l]=!1);var s={KeyW:"forward",KeyS:"back",KeyD:"right",KeyA:"left",ShiftLeft:"sprinting",ShiftRight:"sprinting"};Object.keys(s).includes(l)&&(r||i)?e.moveInput[s[l]]=t[l]:"Space"===l&&n.type===a.OG2.KEYDOWN&&e.grounded?e.character.physicsImpostor.applyImpulse(new a.Pa4(0,e.jump,0),new a.Pa4):"KeyB"===l&&n.type===a.OG2.KEYDOWN&&(y.DEBUG_ENABLED=!y.DEBUG_ENABLED)}}))}}),Object.defineProperty(e.prototype,"CreateCharacter",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=a.VO7.CreateCylinder("player",{diameter:.5,height:2},this.sceneClass.scene);t.position=new a.Pa4(1.5,1.5,-3);var n=new a.Q03(t,a.Q03.CylinderImpostor,{mass:3,friction:.6},this.sceneClass.scene);return t.physicsImpostor=n,n.beforeStep=function(){var t;if(n.setAngularVelocity(new a.Pa4(0,0,0)),e.teleportCooldown--,!(e.teleportCooldown>0)){var r=null!==(t=n.getLinearVelocity())&&void 0!==t?t:new a.Pa4,i=(e.moveInput.right?1:0)+(e.moveInput.left?-1:0),o=(e.moveInput.forward?1:0)+(e.moveInput.back?-1:0),l=e.camera,s=l.getDirection(new a.Pa4(1,0,0)),u=l.getDirection(new a.Pa4(0,0,1));n.setLinearVelocity(new a.Pa4(0,r.y,0).add(s.scale(i).add(u.scale(o)).multiply(new a.Pa4(1,0,1)).normalize().scale(e.moveInput.sprinting?e.sprint:e.walk)))}},t}}),Object.defineProperty(e.prototype,"CreateCamera",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=new a.cEJ("camera",new a.Pa4(0,1,0),this.sceneClass.scene);return e.minZ=.4,e.attachControl(),e.angularSensibility=4e3,e.speed=.1,e.parent=this.character,e}}),Object.defineProperty(e.prototype,"CreateFlashlight",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=new a.PMe("flashlight",this.camera.position,this.camera.getForwardRay(1).direction,Math.PI/180*45,.25,this.sceneClass.scene);return e.parent=this.camera,e.intensity=.5,e}}),Object.defineProperty(e.prototype,"beforeRender",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,n;this.character.rotation=new a.Pa4;var r=this.sceneClass.scene,i=r.pickWithRay(new a.zHn(this.character.position,new a.Pa4(0,-1.2,0),1),(function(e){return"player"!==e.name}));this.grounded=null!==(e=i&&i.hit)&&void 0!==e&&e;var o=this.camera,l=new a.zHn(o.globalPosition,o.getDirection(new a.Pa4(0,0,1))),s=r.pickWithRay(l,(function(e){return"player"!==e.name}));this.hud.getInfo(null===(t=null===s||void 0===s?void 0:s.pickedMesh)||void 0===t?void 0:t.name),this.hud.getDebug(this.character,this.camera,null!==(n=null===s||void 0===s?void 0:s.pickedMesh)&&void 0!==n?n:void 0)}}),e}(),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,f.ZT)(t,e),Object.defineProperty(t.prototype,"CreateScene",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=new a.xsS(this.engine);return t.enablePhysics(new a.Pa4(0,-9.81,0),this.physicsPlugin),t.onPointerDown=function(t){0==t.button?e.engine.enterPointerlock():1==t.button&&e.engine.exitPointerlock()},this.CreateFloor(),this.CreateAmbientLight(),this.CreateRoom().then((function(){e.player=e.CreatePlayer()})),t}}),Object.defineProperty(t.prototype,"CreatePlayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new g(this)}}),Object.defineProperty(t.prototype,"CreateFloor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=a.VO7.CreateGround("ground",{width:100,height:100},this.scene);return e.physicsImpostor=new a.Q03(e,a.Q03.BoxImpostor,{mass:0,restitution:.5},this.scene),e.position.y-=1,e}}),Object.defineProperty(t.prototype,"CreateRoom",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;return(0,f.mG)(this,void 0,Promise,(function(){var t,n,r,i,o,l,s;return(0,f.Jh)(this,(function(u){switch(u.label){case 0:return[4,a.n0n.ImportMeshAsync("","./models/","full_room.gltf",this.scene)];case 1:for(t=u.sent().meshes,n={inner_window_primitive1:!0,outer_window_primitive1:!0},r={chair:10},i=0,o=t;i<o.length;i++)l=o[i],l instanceof a.Kj0&&(s=null!==(e=r[l.name])&&void 0!==e?e:0,s&&(l.parent=null),l.physicsImpostor=new a.Q03(l,a.Q03.MeshImpostor,{mass:s,friction:.6},this.scene),n[l.name]&&l.material instanceof a.YVB&&(l.material.transparencyMode=a.F5T.MATERIAL_ALPHABLEND,l.material.albedoTexture.hasAlpha=!0,l.material.useAlphaFromAlbedoTexture=!0));return[2,t]}}))}))}}),Object.defineProperty(t.prototype,"CreateAmbientLight",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=new a.ezm("ambientLight",new a.Pa4(0,1,0),this.scene);return e.intensity=.25,e}}),Object.defineProperty(t.prototype,"beforeRender",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;null===(e=this.player)||void 0===e||e.beforeRender()}}),t}(m),P=(0,i.aZ)({name:"ProjectView",mounted:function(){var e=document.querySelector("canvas");new w(e)}}),O=n(3744);const T=(0,O.Z)(P,[["render",d],["__scopeId","data-v-07222796"]]);var C=T,j=(0,i.aZ)({name:"App",components:{ProjectView:C}});const A=(0,O.Z)(j,[["render",o]]);var x=A;(0,r.ri)(x).mount("#app")},1756:function(){},3030:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],o=e[c][2];for(var l=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,a=r[0],l=r[1],s=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var c=s(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkffa_v2"]=self["webpackChunkffa_v2"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(7425)}));r=n.O(r)})();
//# sourceMappingURL=app.fe03fc20.js.map